1. ??????
???????TCP/IP?????????????,?????CPU??????????,??????????????????????????

2. ???????????:
htons ntohs htonl ntohl (s ??short; l?long; h?host; n?network)

htons ?unsigned short????????????
htonl ?unsigned long????????????
ntohs ?unsigned short????????????
ntohl ?unsigned long????????????

3.??????

inet_aton()
inet_aton() ???????IP???????32??????IP???
??????:
?????:#include <sys/socket.h>
??#include <netinet/in.h>
??#include <arpa/inet.h>
??????:
??int inet_aton(const char *string, struct in_addr*addr);
??????:
??1 ????string??ASCII???IP???
??2 ????addr???????IP?????
?????:
??????????,????????,???????????????

4. Linux?,?IP???"?????"?"??"????

??inet_pton?inet_ntop?2???????ipv4?ipv6?

1)ÿinet_pton??????:ÿÿÿÿÿÿÿÿÿÿ[?"?????" -> "??"]
??#include <sys/types.h>
??#include <sys/socket.h>
??#include <arpa/inet.h>
??int inet_pton(int af, const char *src, void *dst);
????????????????,?????af????,?????*src?????,?????* dst?????????
??inet_pton ?inet_addr???,??????????:
??af = AF_INET
??src?????????,?ASCII???????(ddd.ddd.ddd.ddd???),?????????in_addr????,????*dst??
??af = AF_INET6
??src???IPV6???,?????????in6_addr????,????*dst??
???:
???????????????,??errno???EAFNOSUPPORT,????af???????src????,?????0?

2)ÿinet_ntop??????:ÿ[?"??"-> "?????"ÿ]
??#include <sys/types.h>
??#include <sys/socket.h>
??#include <arpa/inet.h>
??const char *inet_ntop(int af, const void *src, char *dst, socklen_t cnt);
????????????????ASCII?????,??????????,????????socklen_t cnt,????????dst???,????,???????????????,????????,??errno??ENOSPC

?????????????????:

??#include <stdio.h>
??#include <stdlib.h>
??#include <string.h>
??#include <unistd.h>
??#include <sys/socket.h>
??#include <netinet/in.h>
??int main (void)
??{
?? char IPdotdec[20]; //???????IP??
?? struct in_addr s; // IPv4?????
?? // ??IP??
?? printf("Please input IP address: ");
?? scanf("%s", IPdotdec);
?? // ??
?? inet_pton(AF_INET, IPdotdec, (void *)&s);
?? printf("inet_pton: 0x%x\n", s.s_addr); // ????????
?? // ???
?? inet_ntop(AF_INET, (void *)&s, IPdotdec, 16);
? printf("inet_ntop: %s\n", IPdotdec);
??}

